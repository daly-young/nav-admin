{"version":3,"sources":["webpack:///webpack/bootstrap 7c2d6193a69b70b02845","webpack:///external \"koa-router\"","webpack:///external \"mongoose\"","webpack:///./server/models/nav.js","webpack:///./server/controllers/common.js","webpack:///./server/app2.js","webpack:///external \"nuxt\"","webpack:///external \"path\"","webpack:///external \"koa\"","webpack:///./node_modules/_koa-convert@1.2.0@koa-convert/index.js","webpack:///external \"co\"","webpack:///./node_modules/_koa-compose@3.2.1@koa-compose/index.js","webpack:///./node_modules/_any-promise@1.3.0@any-promise/index.js","webpack:///./node_modules/_any-promise@1.3.0@any-promise/register.js","webpack:///./node_modules/_any-promise@1.3.0@any-promise/loader.js","webpack:///./node_modules/_any-promise@1.3.0@any-promise","webpack:///external \"koa-views\"","webpack:///external \"koa-static\"","webpack:///external \"koa-bodyparser\"","webpack:///external \"koa-logger\"","webpack:///external \"koa-session\"","webpack:///./config.js","webpack:///./server/routers/index.js","webpack:///./server/routers/nav.js","webpack:///./server/controllers/nav.js","webpack:///./server/routers/user.js","webpack:///./server/controllers/user.js","webpack:///./server/models/user.js","webpack:///./server/routers/category.js","webpack:///./server/controllers/category.js","webpack:///./server/models/category.js","webpack:///external \"koa2-cors\"","webpack:///external \"bluebird\"","webpack:///./nuxt.config.js"],"names":["mongoose","require","Schema","ObjectId","NavSchema","title","type","String","content","categoryId","createAt","Date","dafault","now","updateAt","Nav","model","module","exports","isLogin","ctx","next","userId","cookies","get","console","log","result","success","errCode","errMsg","body","path","convert","views","koaLogger","session","config","routers","koaCors","start","host","process","env","HOST","app","port","PORT","use","Promise","connect","mongodb","url","bodyParser","koaStatic","join","__dirname","routes","allowedMethods","nuxtConfig","dev","nuxt","builder","build","status","resolve","reject","res","on","render","req","promise","then","catch","listen","routerBaseApi","router","nav","user","category","navController","common","post","add","edit","del","findAll","request","trim","save","data","e","navId","_id","update","param","state","remove","query","navList","find","sort","userController","login","register","getPower","User","username","password","findOne","exec","set","maxAge","isPower","test","redirect","UserSchema","unique","Number","default","categoryController","Category","isPublic","name","prams","categoryList","CategorySchema","head","meta","charset","link","rel","href","css","loading","color","vendor","postcss","px2rem","remUnit","modules","plugins"],"mappings":"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AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;ACnDA;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAAS;AAChB;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;AC7FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC7EA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7c2d6193a69b70b02845","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","'use strict'\n\nconst mongoose = require('mongoose')\nconst Schema = mongoose.Schema;\nconst ObjectId = Schema.ObjectId;\n\nconst NavSchema = new Schema({\n\t//\t: { type: ObjectId, required: true },\n\ttitle: {\n\t\ttype: String\n\t},\n\tcontent: String,\n\tcategoryId: String,\n\tcreateAt: {\n\t\ttype: Date,\n\t\tdafault: Date.now()\n\t},\n\tupdateAt: {\n\t\ttype: Date,\n\t\tdafault: Date.now()\n\t}\n})\n\n//// save 增加添加时间字段 和 权限\n//NavSchema.pre('save', function(next) {\n//\tif(this.isNew) {\n//\t\tthis.createAt = this.updateAt = Date.now()\n//\t} else {\n//\t\tthis.updateAt = Date.now()\n//\t}\n//\tnext()\n//})\n\n/**\n * 定义模型Nav\n * 模型用来实现我们定义的模式，调用mongoose.model来编译Schema得到Model\n * @type {[type]}\n */\n// 参数Nav 数据库中的集合名称, 不存在会创建.\nconst Nav = mongoose.model('Nav', NavSchema)\n\nmodule.exports = Nav\n\n\n// WEBPACK FOOTER //\n// ./server/models/nav.js","'use strict'\n\n// 用于封装controllers的公共方法\n\n/**\n * 判断是否登录\n */\nexports.isLogin = async(ctx, next) => {\n    //从cookie 中取userId 有 证明登陆了\n    let userId = ctx.cookies.get('userId')\n    console.log(userId, '==---------------------userId')\n    let result = {\n        success: false,\n        errCode: 0,\n        errMsg: \"\"\n    }\n\n    //不存在报错 TODO\n    if (!userId) {\n        result.errMsg = '用户名未登录，请先登陆'\n        result.errCode = -1\n        ctx.body = result\n        return next\n    }\n\n    await next()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/common.js","import { Nuxt, Builder } from 'nuxt'\n//import cors from '@koa/cors'\nconst path = require('path')\nimport Koa from 'koa'\nconst convert = require('koa-convert')\nconst views = require('koa-views')\nimport koaStatic from 'koa-static'\nimport bodyParser from 'koa-bodyparser'\nconst koaLogger = require('koa-logger')\nconst session = require('koa-session')\nconst config = require('./../config')\nconst routers = require('./routers/index')\nconst mongoose = require('mongoose');\nconst koaCors = require('koa2-cors');\n\nasync function start() {\n\tconst host = process.env.HOST || config.app.host\n\tconst port = process.env.PORT || config.app.port\n\tconst app = new Koa()\n\t//配置cors 跨域\n\tapp.use(koaCors())\n\t\n\t/**\n\t * mongoose连接数据库\n\t * @type {[type]}\n\t */\n\tmongoose.Promise = require('bluebird')\n\tmongoose.connect(config.mongodb.url)\n\n\t// session存储配置\n\t//const sessionMysqlConfig= {\n\t//user: config.database.USERNAME,\n\t//password: config.database.PASSWORD,\n\t//database: config.database.DATABASE,\n\t//host: config.database.HOST,\n\t//}\n\n\t//// 配置session中间件\n\t//app.use(session({\n\t//key: 'USER_SID',\n\t//store: new MysqlStore(sessionMysqlConfig)\n\t//}))\n\n\t//配置session中间件\n\tapp.use(session(app))\n\t// 配置控制台日志中间件\n\tapp.use(koaLogger())\n\t// 配置ctx.body解析中间件\n\tapp.use(bodyParser())\n\n\t// 配置静态资源加载中间件\n\tapp.use(koaStatic(\n\t\tpath.join(__dirname, './../client/dist')\n\t))\n\n\t// 配置服务端模板渲染引擎中间件\n\t//app.use(views(path.join(__dirname, './views'), {\n\t//extension: 'ejs'\n\t//}))\n\n\t// 初始化路由中间件\n\tapp.use(routers.routes()).use(routers.allowedMethods())\n\n\t// Import and Set Nuxt.js options\n\tlet nuxtConfig = require('../nuxt.config.js')\n\tnuxtConfig.dev = !(app.env === 'production')\n\n\t// Instantiate nuxt.js\n\tconst nuxt = new Nuxt(nuxtConfig)\n\n\t// Build in development\n\tif(nuxtConfig.dev) {\n\t\tconst builder = new Builder(nuxt)\n\t\tawait builder.build()\n\t}\n\n\tapp.use(async(ctx, next) => {\n\t\tawait next()\n\t\tctx.status = 200 // koa defaults to 404 when it sees that status is unset\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tctx.res.on('close', resolve)\n\t\t\tctx.res.on('finish', resolve)\n\t\t\tnuxt.render(ctx.req, ctx.res, promise => {\n\t\t\t\t// nuxt.render passes a rejected promise into callback on error.\n\t\t\t\tpromise.then(resolve).catch(reject)\n\t\t\t})\n\t\t})\n\t})\n\t\n\t// 监听启动端口\n//\tapp.listen(config.port)\n//\tconsole.log(`the server is start at port ${config.port}`)\n\tapp.listen(port, host)\n\tconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n}\n\nstart()\n\n\n// WEBPACK FOOTER //\n// ./server/app2.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 7\n// module chunks = 0","'use strict'\n\nconst co = require('co')\nconst compose = require('koa-compose')\n\nmodule.exports = convert\n\nfunction convert (mw) {\n  if (typeof mw !== 'function') {\n    throw new TypeError('middleware must be a function')\n  }\n  if (mw.constructor.name !== 'GeneratorFunction') {\n    // assume it's Promise-based middleware\n    return mw\n  }\n  const converted = function (ctx, next) {\n    return co.call(ctx, mw.call(ctx, createGenerator(next)))\n  }\n  converted._name = mw._name || mw.name\n  return converted\n}\n\nfunction * createGenerator (next) {\n  return yield next()\n}\n\n// convert.compose(mw, mw, mw)\n// convert.compose([mw, mw, mw])\nconvert.compose = function (arr) {\n  if (!Array.isArray(arr)) {\n    arr = Array.from(arguments)\n  }\n  return compose(arr.map(convert))\n}\n\nconvert.back = function (mw) {\n  if (typeof mw !== 'function') {\n    throw new TypeError('middleware must be a function')\n  }\n  if (mw.constructor.name === 'GeneratorFunction') {\n    // assume it's generator middleware\n    return mw\n  }\n  const converted = function * (next) {\n    let ctx = this\n    let called = false\n    // no need try...catch here, it's ok even `mw()` throw exception\n    yield Promise.resolve(mw(ctx, function () {\n      if (called) {\n        // guard against multiple next() calls\n        // https://github.com/koajs/compose/blob/4e3e96baf58b817d71bd44a8c0d78bb42623aa95/index.js#L36\n        return Promise.reject(new Error('next() called multiple times'))\n      }\n      called = true\n      return co.call(ctx, next)\n    }))\n  }\n  converted._name = mw._name || mw.name\n  return converted\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_koa-convert@1.2.0@koa-convert/index.js\n// module id = 8\n// module chunks = 0","module.exports = require(\"co\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"co\"\n// module id = 9\n// module chunks = 0","'use strict'\n\nconst Promise = require('any-promise')\n\n/**\n * Expose compositor.\n */\n\nmodule.exports = compose\n\n/**\n * Compose `middleware` returning\n * a fully valid middleware comprised\n * of all those which are passed.\n *\n * @param {Array} middleware\n * @return {Function}\n * @api public\n */\n\nfunction compose (middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!')\n  for (const fn of middleware) {\n    if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!')\n  }\n\n  /**\n   * @param {Object} context\n   * @return {Promise}\n   * @api public\n   */\n\n  return function (context, next) {\n    // last called middleware #\n    let index = -1\n    return dispatch(0)\n    function dispatch (i) {\n      if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n      let fn = middleware[i]\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        return Promise.resolve(fn(context, function next () {\n          return dispatch(i + 1)\n        }))\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_koa-compose@3.2.1@koa-compose/index.js\n// module id = 10\n// module chunks = 0","module.exports = require('./register')().Promise\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_any-promise@1.3.0@any-promise/index.js\n// module id = 11\n// module chunks = 0","\"use strict\"\nmodule.exports = require('./loader')(global, loadImplementation);\n\n/**\n * Node.js version of loadImplementation.\n *\n * Requires the given implementation and returns the registration\n * containing {Promise, implementation}\n *\n * If implementation is undefined or global.Promise, loads it\n * Otherwise uses require\n */\nfunction loadImplementation(implementation){\n  var impl = null\n\n  if(shouldPreferGlobalPromise(implementation)){\n    // if no implementation or env specified use global.Promise\n    impl = {\n      Promise: global.Promise,\n      implementation: 'global.Promise'\n    }\n  } else if(implementation){\n    // if implementation specified, require it\n    var lib = require(implementation)\n    impl = {\n      Promise: lib.Promise || lib,\n      implementation: implementation\n    }\n  } else {\n    // try to auto detect implementation. This is non-deterministic\n    // and should prefer other branches, but this is our last chance\n    // to load something without throwing error\n    impl = tryAutoDetect()\n  }\n\n  if(impl === null){\n    throw new Error('Cannot find any-promise implementation nor'+\n      ' global.Promise. You must install polyfill or call'+\n      ' require(\"any-promise/register\") with your preferred'+\n      ' implementation, e.g. require(\"any-promise/register/bluebird\")'+\n      ' on application load prior to any require(\"any-promise\").')\n  }\n\n  return impl\n}\n\n/**\n * Determines if the global.Promise should be preferred if an implementation\n * has not been registered.\n */\nfunction shouldPreferGlobalPromise(implementation){\n  if(implementation){\n    return implementation === 'global.Promise'\n  } else if(typeof global.Promise !== 'undefined'){\n    // Load global promise if implementation not specified\n    // Versions < 0.11 did not have global Promise\n    // Do not use for version < 0.12 as version 0.11 contained buggy versions\n    var version = (/v(\\d+)\\.(\\d+)\\.(\\d+)/).exec(process.version)\n    return !(version && +version[1] == 0 && +version[2] < 12)\n  }\n\n  // do not have global.Promise or another implementation was specified\n  return false\n}\n\n/**\n * Look for common libs as last resort there is no guarantee that\n * this will return a desired implementation or even be deterministic.\n * The priority is also nearly arbitrary. We are only doing this\n * for older versions of Node.js <0.12 that do not have a reasonable\n * global.Promise implementation and we the user has not registered\n * the preference. This preserves the behavior of any-promise <= 0.1\n * and may be deprecated or removed in the future\n */\nfunction tryAutoDetect(){\n  var libs = [\n      \"es6-promise\",\n      \"promise\",\n      \"native-promise-only\",\n      \"bluebird\",\n      \"rsvp\",\n      \"when\",\n      \"q\",\n      \"pinkie\",\n      \"lie\",\n      \"vow\"]\n  var i = 0, len = libs.length\n  for(; i < len; i++){\n    try {\n      return loadImplementation(libs[i])\n    } catch(e){}\n  }\n  return null\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_any-promise@1.3.0@any-promise/register.js\n// module id = 12\n// module chunks = 0","\"use strict\"\n    // global key for user preferred registration\nvar REGISTRATION_KEY = '@@any-promise/REGISTRATION',\n    // Prior registration (preferred or detected)\n    registered = null\n\n/**\n * Registers the given implementation.  An implementation must\n * be registered prior to any call to `require(\"any-promise\")`,\n * typically on application load.\n *\n * If called with no arguments, will return registration in\n * following priority:\n *\n * For Node.js:\n *\n * 1. Previous registration\n * 2. global.Promise if node.js version >= 0.12\n * 3. Auto detected promise based on first sucessful require of\n *    known promise libraries. Note this is a last resort, as the\n *    loaded library is non-deterministic. node.js >= 0.12 will\n *    always use global.Promise over this priority list.\n * 4. Throws error.\n *\n * For Browser:\n *\n * 1. Previous registration\n * 2. window.Promise\n * 3. Throws error.\n *\n * Options:\n *\n * Promise: Desired Promise constructor\n * global: Boolean - Should the registration be cached in a global variable to\n * allow cross dependency/bundle registration?  (default true)\n */\nmodule.exports = function(root, loadImplementation){\n  return function register(implementation, opts){\n    implementation = implementation || null\n    opts = opts || {}\n    // global registration unless explicitly  {global: false} in options (default true)\n    var registerGlobal = opts.global !== false;\n\n    // load any previous global registration\n    if(registered === null && registerGlobal){\n      registered = root[REGISTRATION_KEY] || null\n    }\n\n    if(registered !== null\n        && implementation !== null\n        && registered.implementation !== implementation){\n      // Throw error if attempting to redefine implementation\n      throw new Error('any-promise already defined as \"'+registered.implementation+\n        '\".  You can only register an implementation before the first '+\n        ' call to require(\"any-promise\") and an implementation cannot be changed')\n    }\n\n    if(registered === null){\n      // use provided implementation\n      if(implementation !== null && typeof opts.Promise !== 'undefined'){\n        registered = {\n          Promise: opts.Promise,\n          implementation: implementation\n        }\n      } else {\n        // require implementation if implementation is specified but not provided\n        registered = loadImplementation(implementation)\n      }\n\n      if(registerGlobal){\n        // register preference globally in case multiple installations\n        root[REGISTRATION_KEY] = registered\n      }\n    }\n\n    return registered\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_any-promise@1.3.0@any-promise/loader.js\n// module id = 13\n// module chunks = 0","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 14;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_any-promise@1.3.0@any-promise\n// module id = 14\n// module chunks = 0","module.exports = require(\"koa-views\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-views\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"koa-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-static\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"koa-bodyparser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-bodyparser\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"koa-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-logger\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"koa-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-session\"\n// module id = 19\n// module chunks = 0","const config = {\n\tport: 2018,\n\tmongodb: {\n\t\turl: 'mongodb://127.0.0.1:27017/admin_nav'\n\t},\n\tapp: {\n\t\thost: '127.0.0.1',\n\t\tport: 2018,\n\t\trouterBaseApi: 'api'\n\t}\n}\n\nmodule.exports = config\n\n\n// WEBPACK FOOTER //\n// ./config.js","/**\n * 整合所有子路由\n */\n\nconst router = require('koa-router')()\n\nconst nav = require('./nav')\nconst user = require('./user')\nconst category = require('./category')\n\nrouter.use('/nav', nav.routes(), nav.allowedMethods())\nrouter.use('/user', user.routes(), user.allowedMethods())\nrouter.use('/cate', category.routes(), category.allowedMethods())\n\nmodule.exports = router\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/routers/index.js","/**\n * restful api 子路由\n * 导航相关\n */\n\nconst router = require('koa-router')()\nconst navController = require('./../controllers/nav')\n\nconst common = require('./../controllers/common');\n\nconst routers = router\n    //新增\n    .post('/add', common.isLogin, navController.add)\n    .post('/edit', common.isLogin, navController.edit)\n    .post('/del', common.isLogin, navController.del)\n    .get('/findAll', common.isLogin, navController.findAll)\n\nmodule.exports = routers\n\n\n// WEBPACK FOOTER //\n// ./server/routers/nav.js","'use strict'\n\nconst Nav = require('../models/nav');\n\nmodule.exports = {\n    /**\n     * 添加新导航\n     */\n    async add(ctx, next) {\n        let title = ctx.request.body.title.trim()\n        let content = ctx.request.body.content.trim()\n        let categoryId = ctx.request.body.categoryId\n\n        let result = {\n            success: false,\n            errCode: 0,\n        }\n\n        if (!categoryId) {\n            result.errCode = -2\n            result.errMsg = '导航分类不能为空！'\n            ctx.body = result\n            return\n        }\n        if (!title) {\n            result.errCode = -3\n            result.errMsg = '导航标题不能为空！'\n            ctx.body = result\n            return\n        }\n        if (!content) {\n            result.errCode = -4\n            result.errMsg = '导航内容不能为空！'\n            ctx.body = result\n            return\n        }\n\n        let nav = new Nav({\n            title,\n            content,\n            categoryId,\n            createAt: +Date.now(),\n            updateAt: +Date.now()\n        })\n\n        try {\n            //写入数据库\n            nav = await nav.save()\n\n            result.success = true\n            result.data = nav\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -1\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    // 编辑\n    async edit(ctx, next) {\n        let title = ctx.request.body.title.trim()\n        let content = ctx.request.body.content.trim()\n        let navId = ctx.request.body._id\n\n        let result = {\n            success: false,\n            errCode: 0,\n        }\n\n        if (!navId) {\n            result.errCode = -2\n            result.errMsg = '要编辑的导航id不能为空！'\n            ctx.body = result\n            return\n        }\n        if (!title) {\n            result.errCode = -3\n            result.errMsg = '导航标题不能为空！'\n            ctx.body = result\n            return\n        }\n        if (!content) {\n            result.errCode = -4\n            result.errMsg = '导航内容不能为空！'\n            ctx.body = result\n            return\n        }\n\n\n        try {\n            //写入数据库\n            let nav = await Nav.update({ _id: navId }, {\n                title,\n                content,\n                updateAt: +Date.now()\n            })\n\n            result.success = true\n            result.data = nav\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -1\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    /**\n     * 删除链接\n     * 需要传当前链接id\n     */\n    async del(ctx, next) {\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        let userId = ctx.cookies.get('userId')\n        let categoryId = ctx.request.body.categoryId\n        let navId = ctx.request.body.navId\n        if (!categoryId && !navId) {\n            result.errCode = -2\n            result.errMsg = '导航分类不能为空！'\n            ctx.body = result\n            return\n        }\n\n        try {\n            //从数据库删除数据\n            let param = categoryId ? { categoryId } : { _id: navId }\n            let state = await Nav.remove(param)\n\n            result.success = true\n            result.data = state\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -1\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    /**\n     * 查找全部\n     * 需要传当前类目ID\n     */\n    async findAll(ctx, next) {\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        let categoryId = ctx.request.query.categoryId\n        if (!categoryId) {\n            result.errCode = -2\n            result.errMsg = '导航分类不能为空！'\n            ctx.body = result\n            return\n        }\n\n        try {\n            //查询全部\n            let navList = await Nav.find({ categoryId }).sort({ updateAt: -1 })\n            console.log(result, '--------------------------2')\n            result.success = true\n            result.data = navList\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -1\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/nav.js","/**\n * restful api 子路由\n */\n\nconst router = require('koa-router')()\nconst userController = require('./../controllers/user')\n\nconst routers = router\n    //登陆\n    .post('/login', userController.login)\n    //注册\n    .post('/register', userController.register)\n    //getPower\n    .post('/getPower', userController.getPower)\n\nmodule.exports = routers\n\n\n\n// WEBPACK FOOTER //\n// ./server/routers/user.js","'use strict'\n\nconst User = require('../models/user');\n\nmodule.exports = {\n    /**\n     * 注册新用户\n     */\n    async register(ctx, next) {\n        let username = ctx.request.body.username.trim()\n        let password = ctx.request.body.password\n        let result = {\n            success: false,\n            errCode: 0,\n        }\n\n        if (!username) {\n            result.errCode = -3\n            result.errMsg = '用户名不能为空！'\n            ctx.body = result\n            return\n        }\n        if (!password) {\n            result.errCode = -4\n            result.errMsg = '密码不能为空！'\n            ctx.body = result\n            return\n        }\n        //根据用户名查询\n        let user = await User.findOne({\n            username\n        }).exec()\n        //      let user = userServices.findByUserName({username})\n        //      console.log('user 是否重名！！', user);\n\n        //判断用户是否存在\n        if (!user) {\n\n            user = new User({\n                username,\n                password\n            })\n\n        } else {\n            //用户已经存在\n            result.errCode = -1\n            result.errMsg = '用户名重复了！请换一个！'\n            ctx.body = result\n            return\n        }\n        // console.log('user == ', user)\n        try {\n            //写入数据库\n            user = await user.save()\n            //          user = userServices.addUser(user)\n\n            ctx.cookies.set(\"userId\", user._id, {\n                maxAge: 365 * 24 * 60 * 60 * 1000\n            })\n\n            result.success = true\n            result.data = user\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -2\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n\n    /**\n     * 登录\n     */\n    async login(ctx, next) {\n        let username = ctx.request.body.username.trim()\n        let password = ctx.request.body.password\n        // console.log('username ==> ', username)\n        // console.log('password ==> ', password)\n        //根据用户名查询\n        let user = await User.findOne({\n            username,\n            password\n        })\n        //      let user =  userServices.findByUserNameAndPassword({username,password})\n\n        // console.log('user---login--->', user)\n\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n\n        //判断用户是否存在\n        if (!user) {\n            //不存在报错\n            result.errMsg = '用户名或密码不正确，请重试'\n            result.errCode = -1\n            ctx.body = result\n            return\n\n        } else {\n            //存在，登陆 然后写入cookie\n            result.success = true\n            result.data = user\n            ctx.body = result\n            //存cookie 1年有效期\n            ctx.cookies.set(\"userId\", user._id, {\n                maxAge: 365 * 24 * 60 * 60 * 1000\n            })\n        }\n    },\n    /**\n     * 获取权限\n     */\n    async getPower(ctx, next) {\n\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n\n        //从cookie 中取userId 有证明登陆了\n        let userId = ctx.cookies.get('userId')\n\n        //不存在报错\n        if (!userId) {\n            result.errMsg = '用户名未登录，请先登陆'\n            result.errCode = -1\n            ctx.body = result\n            return\n        }\n        // console.log('userId---getPower--->', userId)\n\n        //根据用户Id查询\n        let user = await User.findOne({\n            _id: userId\n        }).exec()\n        //      let user =  userServices.findByUserNameAndPassword({username,password})\n\n        // console.log('user---getPower--->', user)\n\n        //判断用户是否存在\n        if (!user) {\n            //不存在报错\n            result.errMsg = '用户信息有误，查询权限异常！'\n            result.errCode = -1\n            ctx.body = result\n            return\n\n        } else {\n            result.success = true\n            result.isPower = user.isPower\n            ctx.body = result\n            //存cookie 1年有效期\n        }\n\n    },\n    /**\n     * test\n     */\n    async test(ctx, next) {\n\n        let result = {\n            success: false,\n            errCode: 0,\n        }\n\n        //存在，登陆 然后写入cookie\n        result.success = true\n        ctx.body = result\n        //重定向\n        ctx.redirect('../test.html')\n    }\n}\n\n///**\n// * 更新用户信息操作\n// * @param  {[type]}   ctx  [description]\n// * @param  {Function} next [description]\n// * @return {[type]}        [description]\n// */\n//exports.update = async(ctx, next) => {\n//  let body = ctx.request.body\n//  let user = ctx.session.user\n//\n//  let fields = 'userName,password,nickname'.split(',')\n//\n//  fields.forEach(function(field) {\n//      if(body[field]) {\n//          user[field] = body[field].trim()\n//      }\n//  })\n//\n//  user = await user.save()\n//\n//  ctx.body = {\n//      success: true,\n//      data: user\n//  }\n//}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js","'use strict'\n\nconst mongoose = require('mongoose')\nconst Schema = mongoose.Schema;\nconst ObjectId = Schema.ObjectId;\n/**\n * 定义一个模式(相当于传统意义的表结构)\n * 每个模式映射mongoDB的一个集合，\n * 它定义（只是定义，不是实现）这个集合里面文档的结构，就是定义这个文档有什么字段，字段类型是什么，字段默认值是什么等。\n * 除了定义结构外，还定义文档的实例方法，静态模型方法，复合索引，中间件等\n * @type {mongoose}\n */\nconst UserSchema = new Schema({\n//\t: { type: ObjectId, required: true },\n\tusername: {\n\t\tunique: true,\n\t\ttype: String\n\t},\n\tpassword: String,\n\tisPower: {type:Number, default:0},\n\tcreateAt: {\n\t\ttype: Date,\n\t\tdafault: Date.now()\n\t}\n})\n\n//// save 增加添加时间字段 和 权限\n//UserSchema.pre('save', function(next) {\n//\tthis.createAt = Date.now()\n//\tnext()\n//})\n\n/**\n * 定义模型User\n * 模型用来实现我们定义的模式，调用mongoose.model来编译Schema得到Model\n * @type {[type]}\n */\n// 参数User 数据库中的集合名称, 不存在会创建.\nconst User = mongoose.model('User', UserSchema)\n\nmodule.exports = User\n\n/**\n * nodejs中文社区这篇帖子对mongoose的用法总结的不错：https://cnodejs.org/topic/548e54d157fd3ae46b233502\n */\n\n\n// WEBPACK FOOTER //\n// ./server/models/user.js","/**\n * restful api 子路由\n * 分类相关的\n */\n\nconst router = require('koa-router')()\nconst categoryController = require('./../controllers/category')\n\nconst common = require('./../controllers/common');\n\n\nconst routers = router\n    //新增\n    .post('/add', common.isLogin, categoryController.add)\n    //编辑\n    .post('/edit', common.isLogin, categoryController.edit)\n    .post('/del', common.isLogin, categoryController.del)\n    .get('/findAll', common.isLogin, categoryController.findAll)\n\nmodule.exports = routers\n\n\n// WEBPACK FOOTER //\n// ./server/routers/category.js","'use strict'\n\n\nconst Category = require('../models/category');\nconst Nav = require('../models/nav');\n\nmodule.exports = {\n    /**\n     * 添加分类\n     * isPublic 用来判断是否有权限 添加公有的  1= 公有，0= 私有\n     */\n    async add(ctx, next) {\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        //从cookie 中取userId 有 证明登陆了\n        let userId = ctx.cookies.get('userId')\n        let isPublic = ctx.request.body.isPublic\n        let name = ctx.request.body.name.trim()\n\n        let category = await Category.findOne({\n            name,\n            userId,\n            isPublic\n        })\n\n        //判断本用户名是否有重复 的分类\n        if (category) {\n            result.errCode = -9\n            result.errMsg = '有重复的分类名了！'\n            ctx.body = result\n            return\n\n        }\n\n        if (isPublic != 0 && isPublic != 1) {\n            result.errCode = -2\n            result.errMsg = '这个可能是公有的，定义好！'\n            ctx.body = result\n            return\n        }\n        if (!name) {\n            result.errCode = -3\n            result.errMsg = '名称不能不写！'\n            ctx.body = result\n            return\n        }\n\n        category = new Category({\n            userId,\n            name,\n            isPublic,\n            createAt: +Date.now(),\n            updateAt: +Date.now()\n        })\n\n        try {\n            //写入数据库\n            category = await category.save()\n\n            result.success = true\n            result.data = category\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -999\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    /**\n     * 更新分类\n     * 需要传 分类ID 和 内容\n     */\n    async edit(ctx, next) {\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        //从cookie 中取userId 有 证明登陆了\n        let userId = ctx.cookies.get('userId')\n        let categoryId = ctx.request.body._id\n        let name = ctx.request.body.name.trim()\n\n        //判断本分类ID是否存在\n        if (!categoryId) {\n            result.errCode = -9\n            result.errMsg = '分类ID没传！'\n            ctx.body = result\n            return\n        }\n\n        if (!name) {\n            result.errCode = -3\n            result.errMsg = '名称不能不写！'\n            ctx.body = result\n            return\n        }\n\n        try {\n            //写入数据库\n            let category = await Category.update({ _id: categoryId }, {\n                userId,\n                name,\n                updateAt: +Date.now()\n            })\n\n            result.success = true\n            result.data = category\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -999\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    /**\n     * 删除分类\n     * 需要传 分类ID\n     */\n    async del(ctx, next) {\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        let categoryId = ctx.request.body.categoryId\n        //判断本分类ID是否存在\n        if (!categoryId) {\n            result.errCode = -9\n            result.errMsg = '分类ID没传！'\n            ctx.body = result\n            return\n        }\n        try {\n            //从数据库删除数据\n            console.log(categoryId, '==========categoryId')\n            let status = await Category.remove({ _id: categoryId })\n            status = await Nav.remove({ categoryId })\n\n            result.success = true\n            result.data = status\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -999\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n    /**\n     * 查询所有分类\n     */\n    async findAll(ctx, next) {\n\n        let result = {\n            success: false,\n            errCode: 0,\n            errMsg: \"\"\n        }\n        //从cookie 中取userId 有 证明登陆了\n        let userId = ctx.cookies.get('userId')\n        //get 请求 用 ctx.request.query\n        let isPublic = ctx.request.query.isPublic\n\n        if (isPublic != 0 && isPublic != 1) {\n            result.errCode = -2\n            result.errMsg = '无法区分是公有还是私有！'\n            ctx.body = result\n            return\n        }\n\n        //根据 公有还是私有 区分查询不同的分类\n        let prams = null\n        if (isPublic == 1) {\n            prams = { isPublic }\n        } else {\n            prams = { isPublic, userId }\n        }\n\n        try {\n            //查询本公有或者私有下面所有分类\n\n            let categoryList = await Category.find(prams).sort({ updateAt: -1 })\n\n            result.success = true\n            result.data = categoryList\n            ctx.body = result\n        } catch (e) {\n            console.log('md,err==', e)\n            result.errCode = -999\n            result.errMsg = e\n            ctx.body = result\n            return next\n        }\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/category.js","'use strict'\n\nconst mongoose = require('mongoose')\nconst Schema = mongoose.Schema;\nconst ObjectId = Schema.ObjectId;\n\nconst CategorySchema = new Schema({\n    userId: String,\n    isPublic: String, //1=公有，0=私有\n    name: String,\n    createAt: {\n        type: Date,\n        dafault: +Date.now()\n    },\n    updateAt: {\n        type: Date,\n        dafault: +Date.now()\n    }\n})\n\n//// save方法回调 增加添加时间字段 和 权限\n// CategorySchema.pre('update', function(next) {\n//     if (this.isNew) {\n//         this.createAt = this.updateAt = Date.now()\n//     } else {\n//         this.updateAt = Date.now()\n//     }\n//     next()\n// })\n\n/**\n * 定义模型Category\n * 模型用来实现我们定义的模式，调用mongoose.model来编译Schema得到Model\n * @type {[type]}\n */\n// 参数Category 数据库中的集合名称, 不存在会创建.\nconst Category = mongoose.model('Category', CategorySchema)\n\nmodule.exports = Category\n\n\n\n// WEBPACK FOOTER //\n// ./server/models/category.js","module.exports = require(\"koa2-cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa2-cors\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 31\n// module chunks = 0","module.exports = {\r\n\t/*\r\n\t ** Headers of the page\r\n\t */\r\n\thead: {\r\n\t\ttitle: '导航系统',\r\n\t\tmeta: [{\r\n\t\t\t\tcharset: 'utf-8'\r\n\t\t\t},\r\n//\t\t\t{\r\n//\t\t\t\tname: 'viewport',\r\n//\t\t\t\tcontent: 'width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no'\r\n//\t\t\t},\r\n\t\t\t//{ hid: 'description', name: 'description', content: 'Nuxt.js project' }\r\n\t\t],\r\n//\t\tscript: [{\r\n//\t\t\t\tsrc: 'https://g.alicdn.com/mtb/??lib-flexible/0.3.2/flexible_css.js,lib-flexible/0.3.2/flexible.js'\r\n//\t\t\t},\r\n//\t\t],\r\n\t\tlink: [{\r\n\t\t\trel: 'icon',\r\n\t\t\ttype: 'image/x-icon',\r\n\t\t\thref: '/favicon.ico'\r\n\t\t}]\r\n\t},\r\n\tcss: [],\r\n\t/*\r\n\t ** Customize the progress bar color\r\n\t */\r\n\tloading: {\r\n\t\tcolor: '#ffe600'\r\n\t},\r\n\t/*\r\n\t ** Build configuration\r\n\t */\r\n\tbuild: {\r\n\t\tvendor: ['axios'],\r\n\t\t/*\r\n\t\t ** Run ESLint on save\r\n\t\t */\r\n\t\t//  extend (config, { isDev, isClient }) {\r\n\t\t//    if (isDev && isClient) {\r\n\t\t//      config.module.rules.push({\r\n\t\t//        enforce: 'pre',\r\n\t\t//        test: /\\.(js|vue)$/,\r\n\t\t//        loader: 'eslint-loader',\r\n\t\t//        exclude: /(node_modules)/\r\n\t\t//      })\r\n\t\t//    }\r\n\t\t//  }\r\n\t},\r\n//\taxios: {\r\n//\t\tbaseURL: 'http://vueh5.xueshanshan.top',\r\n//\t\tcredentials: false,\r\n//\t\tproxyHeaders: false\r\n//\t},\r\n\tpostcss: function() {\r\n\t\treturn [px2rem({\r\n\t\t\tremUnit: 75\r\n\t\t})];\r\n\t},\r\n\tmodules: ['@nuxtjs/pwa', '@nuxtjs/axios'],\r\n\tplugins: ['~/plugins/components.js', '~/plugins/filters.js']\r\n}\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}